window.GEE=function(a){a||(a={});if(document.createElement("canvas").getContext){var c=this,g={},d={ctx:undefined,domElement:undefined,width:undefined,height:undefined,desiredFrameTime:1E3/60,frameCount:0,key:undefined,keyCode:undefined,mouseX:0,mouseY:0,pmouseX:undefined,pmouseY:undefined,mousePressed:false},h=undefined,e,i=function(){for(var b=e,f=0,k=0;b;){k+=b.offsetTop;f+=b.offsetLeft;b=b.offsetParent}offset={x:f,y:k}};a.context||(a.context="2d");a.width||(a.width=500);a.height||(a.height=500);
a.domElement||(a.domElement=document.createElement("canvas"));e=d.domElement=a.domElement;d.ctx=e.getContext(a.context);if(d.ctx==null)a.fallback&&a.fallback();else{if(a.fullscreen){var l=function(){i();d.width=e.width=window.innerWidth;d.height=e.height=window.innerHeight-4};window.addEventListener("resize",l,false);l();a.container||(a.container=document.body);document.body.style.margin="0px";document.body.style.padding="0px"}else{i();c.__defineSetter__("width",function(b){d.width=e.width=b});c.__defineSetter__("height",
function(b){d.height=e.height=b});c.width=a.width;c.height=a.height}if(a.container){a.container.appendChild(e);i()}a=function(b){c.__defineGetter__(b,function(){return d[b]})};a("ctx");a("domElement");a("width");a("height");a("frameCount");a("key");a("keyCode");a("mouseX");a("mouseY");a("pmouseX");a("pmouseY");a("mousePressed");a=function(){};c.loop=true;c.keyup=a;c.keydown=a;c.draw=a;c.mousedown=a;c.mouseup=a;c.mousemove=a;c.mousedrag=a;c.resize=a;c.__defineGetter__("frameRate",function(){return 1E3/
h});c.__defineGetter__("frameTime",function(){return h});c.__defineGetter__("keyPressed",function(){for(var b in g)if(g[b])return true;return false});c.__defineSetter__("frameTime",function(b){d.desiredFrameTime=b});c.__defineSetter__("frameRate",function(b){d.desiredFrameTime=1E3/b});e.addEventListener("mouseenter",function(){i()},false);var j=function(){c.mousemove()};e.addEventListener("mousemove",function(b){var f=b.pageX-offset.x;b=b.pageY-offset.y;if(d.pmouseX==undefined){d.pmouseX=f;d.pmouseY=
b}else{d.pmouseX=d.mouseX;d.pmouseY=d.mouseY}d.mouseX=f;d.mouseY=b},false);e.addEventListener("mousemove",j,false);e.addEventListener("mousedown",function(){d.mousePressed=true;c.mousedown();e.addEventListener("mousemove",c.mousedrag,false);e.removeEventListener("mousemove",j,false)},false);e.addEventListener("mouseup",function(){d.mousePressed=false;c.mouseup();e.removeEventListener("mousemove",c.mousedrag,false);e.addEventListener("mousemove",j,false)},false);window.addEventListener("keydown",function(b){b=
b.keyCode;d.key=String.fromCharCode(b);d.keyCode=b;g[b]=true;c.keydown()},false);window.addEventListener("keyup",function(b){b=b.keyCode;d.key=String.fromCharCode(b);d.keyCode=b;g[b]=false;c.keyup()},false);var m=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,h)}}();_idraw=function(){c.loop&&m(_idraw);d.frameCount++;var b=(new Date).getTime();
c.draw();b=(new Date).getTime()-b;h=b>d.desiredFrameTime?b:d.desiredFrameTime};_idraw()}}else a.fallback&&a.fallback()};

